(this["webpackJsonpflixstock-reactapp"]=this["webpackJsonpflixstock-reactapp"]||[]).push([[0],{23:function(t,e,a){},32:function(t,e,a){},33:function(t,e,a){},34:function(t,e,a){},36:function(t,e,a){},37:function(t,e,a){},38:function(t,e,a){},39:function(t,e,a){},40:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){},62:function(t,e,a){"use strict";a.r(e);a(23);var n=a(1),c=a(7),i=a.n(c),r=a(3),s=a(13),o=a(2),l={targets:[],categories:[]},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TARGET":return Object(o.a)(Object(o.a)({},t),{},{targets:e.data});case"SET_CATEGORY":return Object(o.a)(Object(o.a)({},t),{},{categories:e.data});default:return t}},j={targets:[],categories:{},options:{alignment:[],margin:{top:"",left:"",right:"",bottom:""},resolution:""}},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_OUTPUT_TARGET":return Object(o.a)(Object(o.a)({},t),{},{targets:e.data});case"SET_OUTPUT_CATEGORY":return Object(o.a)(Object(o.a)({},t),{},{categories:e.data});case"ADD_CATEGORY_DATA":for(var a=Object(o.a)({},t),n=0;n<a.categories.length;n++)a.categories[n]._id===e.data.cat_id&&(a.categories[n][e.data.opt_type]=a.categories[n][e.data.opt_type].concat(e.data.opt_name));return a;case"REMOVE_CATEGORY_DATA":for(var c=Object(o.a)({},t),i=0;i<c.categories.length;i++)c.categories[i]._id===e.data.cat_id&&(c.categories[i][e.data.opt_type]=c.categories[i][e.data.opt_type].filter((function(t){return t!==e.data.opt_name})));return c;case"SET_OUTPUT_OPTIONS":var r=Object(o.a)({},t);return"alignment"===e.data.opt_name&&(r.options.alignment.includes(e.data.opt_data)?r.options.alignment=r.options.alignment.filter((function(t){return t!==e.data.opt_data})):r.options.alignment.push(e.data.opt_data)),"margin"===e.data.opt_name&&(r.options.margin[e.data.opt_type]=e.data.opt_data),"resolution"===e.data.opt_name&&(r.options.resolution=e.data.opt_data),r;default:return t}},O=Object(s.a)({filters:u,output:d}),g=Object(s.b)(O),b=a(5),m=(a(32),a(33),a(34),{setTarget:function(t){return{type:"SET_TARGET",data:t}},setCategory:function(t){return{type:"SET_CATEGORY",data:t}}}),p={setOutputTarget:function(t){return{type:"SET_OUTPUT_TARGET",data:t}},setOutputCatgeory:function(t){return{type:"SET_OUTPUT_CATEGORY",data:t=t.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{angles:[],croppings:[]})}))}},addCategoryData:function(t){return{type:"ADD_CATEGORY_DATA",data:t}},removeCategoryData:function(t){return{type:"REMOVE_CATEGORY_DATA",data:t}},setOutputOptions:function(t){return{type:"SET_OUTPUT_OPTIONS",data:t}}},_=a(0),h=function(t){var e=t.raw_categories,a=Object(n.useState)(e),c=Object(b.a)(a,2),i=c[0],s=c[1],l=Object(r.b)(),u=function(t){var e=i.map((function(e){return e._id===t?Object(o.a)(Object(o.a)({},e),{},{selected:!e.selected}):e}));s(e);var a=e.filter((function(t){return t.selected}));l(m.setCategory(a.map((function(t){return t.name})))),l(p.setOutputCatgeory(a.map((function(t){return{_id:t._id,name:t.name}}))))};return Object(n.useEffect)((function(){u(i[0]._id)}),[]),Object(_.jsxs)("div",{className:"category-list-main",children:[Object(_.jsx)("div",{className:"category-list-heading",children:Object(_.jsx)("h4",{children:" Categories you sell "})}),Object(_.jsx)("div",{className:"category-list-options",children:Object(_.jsx)("ul",{children:i.map((function(t){return Object(_.jsxs)("li",{className:t.selected?"category-active":"",onClick:function(){return u(t._id)},children:[t.selected?"-":"+"," ",t.name]},t._id)}))})})]})},f=(a(36),function(t){var e,a=t.item_id,n=t.item_name,c=t.selected,i=t.updateTarget;return Object(_.jsxs)("div",{className:"filter-option-item",children:[Object(_.jsx)("input",{type:"radio",name:"target_radio",value:n,checked:n===c,onChange:function(){return i(n,a)}}),Object(_.jsx)("label",{htmlFor:n,children:(e=n,e.slice(0,1).toUpperCase()+e.slice(1))})]})}),x=function(t){var e=t.raw_targets,a=Object(n.useState)(),c=Object(b.a)(a,2),i=c[0],s=c[1],o=Object(r.b)(),l=function(t,a){s(t);var n="all"===t?e[1].name:[t],c="all"===t?e.map((function(t){return{_id:t._id,name:t.name}})):[{_id:a,name:t}];o(m.setTarget(n)),o(p.setOutputTarget(c))};return Object(n.useEffect)((function(){l(e[0].name,e[0]._id)}),[e]),Object(_.jsx)("div",{className:"filter-list-main",children:Object(_.jsx)("div",{className:"filter-list-options",children:e.map((function(t){return Object(_.jsx)(f,{item_id:t._id,item_name:t.name,selected:i,updateTarget:l},t._id)}))})})},v=function(t){var e=t.raw_targets,a=t.raw_categories;return e.unshift({_id:"all_radio_items",name:"all"}),a=a.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{selected:!1})})),Object(_.jsxs)("div",{children:[Object(_.jsx)(x,{raw_targets:e}),Object(_.jsx)(h,{raw_categories:a})]})},y=a(12),T=(a(37),a(38),function(t){var e=t._id,a=t.is_active,n=t.name,c=t.categoryChanged;return Object(_.jsx)("li",{className:a?"category_selector-nav-active":"",onClick:function(){return c(e)},children:n})}),E=function(t){var e=t.name,a=t.image_url,c=t.selectItem,i=Object(n.useState)(!1),r=Object(b.a)(i,2),s=r[0],o=r[1];return Object(_.jsx)("li",{children:Object(_.jsxs)("div",{className:"category-image-item",children:[Object(_.jsxs)("div",{className:"category-image-src",children:[Object(_.jsx)("img",{alt:e,src:a}),Object(_.jsx)("div",{children:Object(_.jsx)("input",{name:e,type:"checkbox",checked:s,onChange:function(){o(!s),c(e,!s)}})})]}),Object(_.jsx)("div",{className:"category-image-text",children:Object(_.jsxs)("span",{children:[" ",e," "]})})]})})},N=function(t){var e=t.type,a=t.text_heading,c=t.data_list,i=Object(n.useState)(c[0]._id),s=Object(b.a)(i,2),o=s[0],l=s[1],u=Object(n.useState)(null),j=Object(b.a)(u,2),d=j[0],O=j[1],g=Object(r.b)(),m=function(t){l(t),O(c.filter((function(e){return e._id===t}))[0])},h=function(t,a){g(a?p.addCategoryData({cat_id:o,opt_type:e,opt_name:t}):p.removeCategoryData({cat_id:o,opt_type:e,opt_name:t}))};return Object(n.useEffect)((function(){return m(c[0]._id)}),[c]),Object(_.jsxs)("div",{className:"category_selector-list-main",children:[Object(_.jsx)("div",{className:"category_selector-list-heading",children:Object(_.jsxs)("h3",{children:[" ",a," "]})}),Object(_.jsxs)("div",{className:"category_selector-list-options",children:[Object(_.jsx)("div",{className:"category_selector-options-nav",children:Object(_.jsx)("ul",{children:c.map((function(t){return Object(_.jsx)(T,{name:t.category,_id:t._id,is_active:o===t._id,categoryChanged:m},t._id)}))})}),Object(_.jsx)("div",{className:"category_selector-options-images",children:d&&Object(_.jsx)("ul",{children:d.values.map((function(t){return Object(_.jsx)(E,{name:"".concat(t.name," ").concat(t.value?"("+t.value+"\xb0)":""),image_url:t.image.fileUrl,selectItem:h},t._id)}))})})]})]})},C=(a(39),function(){var t=Object(r.b)();return Object(_.jsxs)("div",{className:"alignment-list-main",children:[Object(_.jsx)("div",{className:"alignment-list-heading",children:Object(_.jsx)("h3",{children:" Alignment "})}),Object(_.jsx)("div",{className:"alignment-list-options",children:[{_id:"1111",name:"Top",value:"top"},{_id:"2222",name:"Center",value:"center"},{_id:"3333",name:"Bottom",value:"bottom"}].map((function(e){return Object(_.jsxs)("div",{className:"alignment-option-item",children:[Object(_.jsx)("input",{type:"checkbox",name:"alignment_radio",value:e.value,onChange:function(e){var a;a=e.target.value,t(p.setOutputOptions({opt_name:"alignment",opt_data:a}))}})," ",Object(_.jsx)("label",{htmlFor:"alignment_radio",children:e.name})]},e._id)}))})]})}),A=function(t){var e=t.raw_target_data,a=Object(n.useState)(null),c=Object(b.a)(a,2),i=c[0],s=c[1],o=Object(r.c)((function(t){return t.filters}));return Object(n.useEffect)((function(){if(0!==o.targets.length&&0!==o.categories.length){for(var t=e.filter((function(t){return o.targets.includes(t.name)})),a={cropping:[],angles:[]},n=0;n<t.length;n++){var c,i,r=t[n].properties.angle.filter((function(t){return o.categories.includes(t.category)})),l=t[n].properties.cropping.filter((function(t){return o.categories.includes(t.category)}));(c=a.angles).push.apply(c,Object(y.a)(r)),(i=a.cropping).push.apply(i,Object(y.a)(l))}s(a)}}),[e,o]),Object(_.jsxs)(_.Fragment,{children:[!i&&Object(_.jsx)("h3",{children:" Select target and categories first "}),i&&Object(_.jsxs)("div",{children:[Object(_.jsx)(N,{type:"angles",text_heading:"Angles Required",data_list:i.angles}),Object(_.jsx)(N,{type:"croppings",text_heading:"Cropping & Alignment",data_list:i.cropping}),Object(_.jsx)(C,{})]})]})},S=(a(40),a(41),function(){var t=Object(r.b)(),e=function(e,a){t(p.setOutputOptions({opt_name:"margin",opt_data:a,opt_type:e}))};return Object(_.jsxs)("div",{className:"margin-list-main",children:[Object(_.jsx)("div",{className:"margin-list-heading",children:Object(_.jsx)("h3",{children:" Margin "})}),Object(_.jsxs)("div",{className:"margin-list-options",children:[Object(_.jsxs)("div",{className:"margin-option-item",children:[Object(_.jsx)("label",{htmlFor:"top_l",children:" Top "}),Object(_.jsx)("br",{}),Object(_.jsx)("input",{name:"top_l",onChange:function(t){return e("top",t.target.value)}})]}),Object(_.jsxs)("div",{className:"margin-option-item",children:[Object(_.jsx)("label",{htmlFor:"left_l",children:" Left "}),Object(_.jsx)("br",{}),Object(_.jsx)("input",{name:"left_l",onChange:function(t){return e("left",t.target.value)}})]}),Object(_.jsxs)("div",{className:"margin-option-item",children:[Object(_.jsx)("label",{htmlFor:"right_l",children:" Right "}),Object(_.jsx)("br",{}),Object(_.jsx)("input",{name:"right_l",onChange:function(t){return e("right",t.target.value)}})]}),Object(_.jsxs)("div",{className:"margin-option-item",children:[Object(_.jsx)("label",{htmlFor:"bottom_l",children:" Bottom "}),Object(_.jsx)("br",{}),Object(_.jsx)("input",{name:"bottom_l",onChange:function(t){return e("bottom",t.target.value)}})]})]})]})}),R=(a(42),function(t){var e=t.resolutions_list,a=Object(r.b)();return Object(_.jsxs)("div",{className:"resolution-list-main",children:[Object(_.jsx)("div",{className:"resolution-list-heading",children:Object(_.jsx)("h3",{children:" Output Resolution "})}),Object(_.jsxs)("div",{className:"resolution-list-options",children:[Object(_.jsx)("label",{htmlFor:"reslutn",children:" Presets "}),Object(_.jsx)("br",{}),Object(_.jsx)("select",{name:"reslutn",onChange:function(t){return e=t.target.value,void a(p.setOutputOptions({opt_name:"resolution",opt_data:e}));var e},children:e.map((function(t){return Object(_.jsx)("option",{value:t.value,children:t.value},t._id)}))})]})]})}),w=function(t){var e=t.raw_resolutions;return Object(_.jsxs)("div",{children:[Object(_.jsx)(S,{}),Object(_.jsx)(R,{resolutions_list:e})]})},D=(a(43),function(){var t=Object(r.c)((function(t){return t.output}));return Object(_.jsxs)("div",{className:"form-actions-main",children:[Object(_.jsx)("div",{className:"action-clear",children:Object(_.jsx)("button",{children:"  Reset "})}),Object(_.jsx)("div",{className:"action-submit",children:Object(_.jsx)("button",{onClick:function(){console.log("Output data:",t),alert("Check console for output")},children:" Save Selection "})})]})}),k=a(22),G=a.n(k),U={getPageData:function(t,e){return G.a.get("http://65.2.63.155:3000/outputspec/test/form")}};var P=function(){var t=Object(n.useState)(null),e=Object(b.a)(t,2),a=e[0],c=e[1];return Object(n.useEffect)((function(){U.getPageData().then((function(t){200===t.status?c(t.data):(console.log("Error occured in getPageData:",t),alert("Error, check console."))})).catch((function(t){console.log("Error occured in getPageData:",t),alert("Error, check console.")}))}),[]),Object(_.jsx)("div",{className:"App",children:a&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(v,{raw_targets:a.targetGroup.map((function(t){return{_id:t._id,name:t.name}})),raw_categories:a.categories}),Object(_.jsx)(A,{raw_target_data:a.targetGroup}),Object(_.jsx)(w,{raw_resolutions:a.resolution}),Object(_.jsx)(D,{})]})})};i.a.render(Object(_.jsxs)(r.a,{store:g,children:[" ",Object(_.jsx)(P,{})," "]}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.240ef98d.chunk.js.map